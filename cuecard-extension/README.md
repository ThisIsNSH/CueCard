# CueCard Extension

Browser extension for CueCard that tracks Google Slides presentations and sends speaker notes to the desktop app.

## Supported Browsers

- **Chrome** (Manifest V3)
- **Safari** (via Safari Web Extension)

## Development

### Prerequisites

- Node.js 18+
- npm

### Install Dependencies

```bash
npm install
```

### Build Extension

Build for all supported browsers:

```bash
npm run build
```

Build for specific browsers:

```bash
npm run build:chrome
npm run build:safari
```

Output is written to `dist/<browser>/`.

## Release Process

### Chrome Web Store

1. Build the extension:
   ```bash
   npm run build:chrome
   ```

2. Create a release ZIP:
   ```bash
   npm run release
   ```
   This creates `releases/cuecard-extension-chrome-<version>.zip`

3. Upload to [Chrome Web Store Developer Dashboard](https://chrome.google.com/webstore/developer/dashboard):
   - Go to your extension
   - Click "Package" > "Upload new package"
   - Upload the ZIP file
   - Submit for review

### Safari (macOS)

1. Build the Safari source:
   ```bash
   npm run build:safari
   ```

2. Convert to Xcode project:
   ```bash
   npm run safari:convert
   ```
   This runs `xcrun safari-web-extension-converter` and creates an Xcode project in `dist/safari-xcode/`.

3. Open the Xcode project:
   ```bash
   open dist/safari-xcode/CueCard\ Extension/CueCard\ Extension.xcodeproj
   ```

4. In Xcode:
   - Select your development team (Signing & Capabilities)
   - For **macOS Extension only**: Select the "CueCard Extension (macOS)" target
   - Archive the extension (Product > Archive)
   - Distribute to App Store Connect

5. Submit for review in [App Store Connect](https://appstoreconnect.apple.com)

### Notes

- The `dist/` folder is gitignored (build artifacts)
- The `dist/safari-xcode/` folder is regenerated by `safari:convert` script
- Version is managed in `package.json` and `manifests/manifest.chrome.json`
- Keep versions in sync across all manifest files
